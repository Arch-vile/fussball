<h2>Games</h2>
<div ng-include="'fragments/loading.html'"></div>
<div  ng-if="loaded">
    <p>
        Note: Remember to submit scores after inserting them!
    </p>
    
    <div align="right">
        Filter: <input ng-model="playerFilter" autofocus/>
    </div>
    <br/>
    <table>
            <thead>
                <th>Home team</th>
                <th>Score</th>
                <th></th>
                <th>Score</th>
                <th>Guest team</th>
                <th>Action</th>
            </thead>
            <tbody ng-repeat="game in games | filter:playerFilter">
                <tr>
                    <td>{{game.team1Player1.split('@')[0]}}<br/>{{game.team1Player2.split('@')[0]}}</td>
                    <td ng-if="!game.isDirty && game.team1Score" align="right">{{game.team1Score}}</td>
                    <td ng-if="game.isDirty || !game.team1Score">
                        <select ng-model="game.team1Score" ng-change="markDirty(game)" ng-options="score for score in [1,2,3,4,5,6,7,8,9,10]">
                        </select>
                    </td>
                    <td>vs</td>
                    <td ng-if="!game.isDirty && game.team2Score">{{game.team2Score}}</td>
                    <td ng-if="game.isDirty || !game.team2Score">
                        <select ng-model="game.team2Score" ng-change="markDirty(game)" ng-options="score for score in [1,2,3,4,5,6,7,8,9,10]">
                        </select>
                    </td>
                    <td align="right">{{game.team2Player1.split('@')[0]}}<br/>{{game.team2Player2.split('@')[0]}}</td>
                    <td>
                        <a href="" ng-click="submitScore(game)" ng-show="game.isDirty && game.team2Score && game.team1Score" >Submit</a>
                    </td>
                </tr>
            </tbody>
    </table>

    <h3>Finale</h3>
    <table>
            <thead>
                <th>Home team</th>
                <th>Score</th>
                <th></th>
                <th>Score</th>
                <th>Guest team</th>
                <th>Action</th>
            </thead>
            <tbody>
                <td colspan="6">Best four players will advance to the finale!</td>
            </tbody>
    </table>
</div>